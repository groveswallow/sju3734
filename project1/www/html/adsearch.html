<!--
 * @Author: Tang
 * @Date: 2019-11-27 15:24:45
 * @LastEditors: Tang
 * @LastEditTime: 2019-11-27 21:43:44
 * @Description: 待解决：1.重新美化两个选择框，尽量将其与tf输入框联系起来，2019.11.27。
 -->
<html lang="zh-CN">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link href="./bs/css/bootstrap.min.css" rel="stylesheet">
    <link href="./bs/css/bootstrap-select.css" rel="stylesheet">
    <link href="./bs/css/bootstrap-table.min.css" rel="stylesheet">
    <script src="./bs/js/jquery.min.js"></script>
    <script src="./bs/js/bootstrap.min.js"></script>
    <script src="./bs/js/bootstrap-select.js"></script>
    <script src="./bs/js/bootstrap-table.min.js"></script>
    <script src="./bs/js/bootstrap3-typeahead.min.js"></script>
    <script src="./bs/js/bootstrap-table-zh-CN.min.js"></script>
    <title>XXXdatabase</title>
</head>

<body background="./greek-vase.png" class="float">
    <script>
        function autoselect(flag) {
                $('#' + flag).load('./select'+flag+'.php');
        }
        function autocom(flag) {
            $('#' + flag).typeahead({
                minLength: 1,
                items: 10,
                hint: true,
                highlight: true,
                source: function (query, process) {
                    $.ajax({
                        url: "./autocom.php",//未解决，只写了测试代码。
                        cache: false,
                        type: 'post',
                        dataType: 'json',
                        async: true,
                        data: {
                            flag: query,
                        },
                        success: function (data) {
                            return process(data);
                        }
                    })
                }
            })
        }
        function Post(flag) {
            $va = $('#' + flag).val();
            var patt = /[^0-9A-Za-z]/;
            if (va == '') {
                alert('you don not input anything!');
                return false;
            }
            else if (patt.test(va)) {
                alert('you input wrong words,plesea input again!');
                return false;
            }
            else {
                var query = new Array();
                var cancer = $('#cancer').val();
                $.ajax({
                    url: './ser.php',
                    method: 'post',
                    dataType: 'json',
                    async: true,
                    data: {
                        'cancer': cancer,
                        flag: va,
                    },
                    success: function (result) {
                        $('form').hide();
                        $('#table').bootstrapTable({
                            data: result,        // 表格数据来源
                            search: true,
                            striped: true,
                            showToggle: true,
                            strictSearch: true,
                            showColumns: true,                  //是否显示所有的列
                            showRefresh: true,
                            cache: false,
                            sidePagination: "client",           //分页方式：client客户端分页，server服务端分页（*）
                            pagination: true,                   //是否显示分页（*）
                            pageNumber: 1,                       //初始化加载第一页，默认第一页
                            pageSize: 10,                       //每页的记录行数（*）
                            pageList: [10, 25, 50, 100],        //可供选择的每页的行数（*）
                            columns: [{
                                field: 'cancer',
                                title: 'Cancer Category'
                            }, {
                                field: 'tf',
                                title: 'TF'
                            }, {
                                field: 'gene',
                                title: 'Gene'
                            }, {
                                field: 'characteristics',
                                title: 'Characteristics'
                            },
                            {
                                field: 'regulation_type',
                                title: 'Regulation_type'
                            },
                            {
                                field: 'cancer_hallmark',
                                title: 'Cancer_hallmark'
                            },
                            {
                                field: 'details',
                                title: 'Details'
                            }]
                        });
                    },
                    error: function () {
                        alert('something is wrong,please connect author!');
                    }
                });
                return false;
            }

        }
    </script>
    <div class="nav" style="background-color: #000 ;height: 80px;">
        <div style="padding-right:5%;float: right;">
            <img src="./zi.png" style="height:80px;">
        </div>
        <ul class="nav navbar-nav navbar-left" style="margin-top:15px;">
            <li style="margin-left: 30px;"><a href="./index.html" style="color:slategray">HOME</a></li>
            <li style="margin-left: 30px;" class='dropdown' style="color:slategray">
                <a class="dropdown-toggle" data-toggle="dropdown" role="button" style="color:slategray">SEARCH<span
                        class="caret"></span></a>
                <ul class="dropdown-menu navbar-nav nav" style="background-color: #000;">
                    <li><a href="./gesearch.html" style="color:slategray">General Search</a></li>
                    <li><a href="./adsearch.html" style="color:slategray">Advanced Search</a></li>
                </ul>
            </li>
            </li>
            <li style="margin-left: 30px;"><a href="" style="color:slategray">DOWNLOAD</a></li>
            <li style="margin-left: 30px;"><a href="" style="color:slategray">SUBMIT</a></li>
            <li style="margin-left: 30px;"><a href="" style="color:slategray">ABOUT</a></li>
            <li style="margin-left: 30px;"><a href="" style="color:slategray">HELP</a></li>
        </ul>
    </div>
    </div>
    <div id="serv" style="width: 100%;height: 100%;">
        <div style="width: 50%; height:200px; margin-left:25%; margin-top: 4%; text-align: center">
            <h1><span class="glyphicon glyphicon-search" aria-hidden="true" style="font-size: 30px;"></span> The
                Interface of Advanced Search</h1>
            <hr class="simple" color="black">
            <p>Lnc2Cancer 2.0 provides users with a simple and fast method to search and explore all of our data in
                several ways. Lnc2Cancer 2.0 enables users to search by lncRNA name, cancer name or both. Lnc2Cancer
                also offers fuzzy keyword searching capabilities, which enables easy searching by returning the closest
                possible matching records. ADVANCED SEARCH provides more detailed and systemic search. View our Help
                page for further help.

            </p>
            <p>xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx</p>
            <div style="width: 75%; height:200px; margin-left:10%; padding-top: 2%; text-align: center">
                <label>General search offers fuzzy keyword searching capabilities:
                    For 'LncRNA', you can use Gene Symbol (e.g. 'MALAT1'), Entrez Gene ID (e.g. '378938'), Ensembl ID
                    (e.g. 'ENSG00000251562') and other names.
                </label>
                <hr>
                <div id="myTabContent">
                    <form action="" method="post" onsubmit="return Post('tf');">
                        <div style="width: 100%;height: 55%;">
                            <div class="input-group"> <span class="input-group-addon" id="basic-addon1">TF</span>
                                <input type="text" class="form-control" placeholder="Search for TF" id="tf"></div>
                            <div class="col-lg-5" style="margin-left: 5%;margin-top: 2%;">
                                <label>Select Regulation Type</label>
                                <select multiple class="selectpicker form-control" id="regulation_type"
                                    data-container="body" data-live-search="true" title="Select Regulation Type"
                                    data-hide-disabled="true" data-actions-box="true" data-virtual-scroll="false">
                                    <script>
                                        autoselect('regulation_type');
                                        autoselect('characteristics');
                                    </script>
                                </select>
                            </div>
                            <div class="col-lg-5" style="margin-left: 5%;margin-top: 2%;">
                                <label>Select TCharacteristics</label>
                                <select multiple class="selectpicker form-control" id="characteristics"
                                    data-container="body" data-live-search="true" title="Select Characteristics"
                                    data-hide-disabled="true" data-actions-box="true" data-virtual-scroll="false">
                                </select>
                            </div>
                        </div>
                        <br>
                        <hr>
                        <div class="input-group"> <span class="input-group-addon" id="basic-addon1">Cancer</span>
                            <input type="text" class="form-control" placeholder="Search for Cancer" id="cancer_type">
                        </div>
                        <hr>
                        <div class="input-group"> <span class="input-group-addon" id="basic-addon1">Gene</span>
                            <input type="text" class="form-control" placeholder="Search for Gene" id="gene"></div>
                        <hr>
                        <div class="input-group"> <span class="input-group-addon" id="basic-addon1">Hallmark</span>
                            <input type="text" class="form-control" placeholder="Search for Hallmark of Cancer"
                                id="gene"></div>
                        <!-- //未解决页面缩小后按钮被页脚遮挡的BUG -->
                        <button class="btn btn-default" type="submit" id="sub"
                            style="margin-top: 5%;"><b>submit</b></button>
                        <script>
                            $(function () {
                                autocom('tf');
                                autocom('cancer_type');
                                autocom('gene');
                                autocom('hallmark_cancer');
                            })
                        </script>
                    </form>
                </div>
            </div>
        </div>
    </div>
    <footer class="footer navbar-fixed-bottom" style="background-color:whitesmoke;">
        <div class="container">
            <h3>CONTACT US</h3>
        </div>
    </footer>
</body>

</html>