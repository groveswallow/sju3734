<!--
 * @Author: Tang
 * @Date: 2019-11-22 22:30:55
 * @LastEditors: Tang
 * @LastEditTime: 2019-11-22 23:27:34
 * @Description: 
 -->
<!DOCTYPE html>
<html lang="zh-CN">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link href="./bs/css/bootstrap.min.css" rel="stylesheet">
    <link href="./bs/css/bootstrap-select.css" rel="stylesheet">
    <link href="./bs/css/booststrap-table.min.css" rel="stylesheet">
    <script src="./bs/js/jquery.min.js"></script>
    <script src="./bs/js/bootstrap.min.js"></script>
    <script src="./bs/js/bootstrap-select.js"></script>
    <script src="./bs/js/bootstrap-table.min.js"></script>
    <script src="./bs/js/bootstrap-table-zh-CN.js"></script>
    <title>XXXdatabase</title>
</head>

<body>
    <div class="nav" style="background-color: #000 ;height: 80px;">
        <div style="padding-right:5%;float: right;">
            <img src="./zi.png" style="height:80px;">
        </div>
        <ul class="nav navbar-nav navbar-left" style="margin-top:15px;">
            <li style="margin-left: 30px;"><a href="./index.html" style="color:slategray">HOME</a></li>
            <li style="margin-left: 30px;" class='dropdown' style="color:slategray">
                <a class="dropdown-toggle" data-toggle="dropdown" role="button" style="color:slategray">SEARCH<span
                        class="caret"></span></a>
                <ul class="dropdown-menu navbar-nav nav" style="background-color: #000;">
                    <li><a href="./gesearch.html" style="color:slategray">General Search</a></li>
                    <li><a href="./adsearch.html" style="color:slategray">Advanced Search</a></li>
                </ul>
            </li>
            </li>
            <li style="margin-left: 30px;"><a href="" style="color:slategray">DOWNLOAD</a></li>
            <li style="margin-left: 30px;"><a href="" style="color:slategray">SUBMIT</a></li>
            <li style="margin-left: 30px;"><a href="" style="color:slategray">ABOUT</a></li>
            <li style="margin-left: 30px;"><a href="" style="color:slategray">HELP</a></li>
        </ul>
    </div>
    </div>
    <div id="serv" style="width: 100%;height: 100%;">
        <div style="width: 50%; height:200px; margin-left:25%; padding-top: 2%; text-align: center">
                <h1><span class="glyphicon glyphicon-search" aria-hidden="true" style="font-size: 30px;"></span> The
                    Interface of Search</h1>
                    <hr class="simple" color="black">	
                <p>................................</p> 
                <p>xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx</p>
                <div style="width: 75%; height:200px; margin-left:10%; padding-top: 3%; text-align: center">
            <ul id="myTab" class="nav nav-tabs">
                <li class="active">
                    <a href="#tf" data-toggle="tab" style="color: black;">
                        TF
                    </a>
                </li>
                <li><a href="#gene" data-toggle="tab" style="color: black;">Gene</a></li>
            </ul>
            <div id="myTabContent" class="tab-content">
                <div class="tab-pane fade in active" id="tf">
                    <form action="" method="post" onsubmit="return PostTF();">
                            <input type="text" class="form-control" placeholder="Search for TF" id="serTF" name="serTF">
                        <hr>
                            <p>Select Cancer Category</p>
                            <select multiple class="selectpicker form-control" id="cancer" data-container="body"
                                data-live-search="true" title="Select Cancers" data-hide-disabled="true"
                                data-actions-box="true" data-virtual-scroll="false">
                            </select>
                        <script>
                            $(function () {
                                $(function () {
                                    $("#number").load('./selecttest.php');
                                })
                            })
                            function PostTF() {
                                $tf = $('#serTF').val();
                                var patt = /[^0-9A-Za-z]/;
                                if (tf == '') {
                                    alert('you don not input anything!');
                                    return false;
                                }
                                else if (patt.test(tf)) {
                                    alert('you input wrong words,plesea input again!');
                                    return false;
                                }
                                else {
                                    var query = new Array();
                                    var cancer = $('#cancer').val();
                                    query['tf'] = $('#serTF').val();
                                    $.ajax({
                                        url: 'test1.php',
                                        method: 'post',
                                        dataType: 'json',
                                        async: true,
                                        data: {
                                            'cancer': cancer,
                                            'tf': tf,
                                        },
                                        success: function (result) {
                                            $('form').hide();
                                            $('#table').bootstrapTable({
                                                data: result,        // 表格数据来源
                                                search: true,
                                                striped: true,
                                                showToggle: true,
                                                strictSearch: true,
                                                showColumns: true,                  //是否显示所有的列
                                                showRefresh: true,
                                                cache: false,
                                                sidePagination: "client",           //分页方式：client客户端分页，server服务端分页（*）
                                                pagination: true,                   //是否显示分页（*）
                                                pageNumber: 1,                       //初始化加载第一页，默认第一页
                                                pageSize: 10,                       //每页的记录行数（*）
                                                pageList: [10, 25, 50, 100],        //可供选择的每页的行数（*）
                                                columns: [{
                                                    field: 'cancer',
                                                    title: 'Cancer Category'
                                                }, {
                                                    field: 'tf',
                                                    title: 'TF'
                                                }, {
                                                    field: 'gene',
                                                    title: 'Gene'
                                                }, {
                                                    field: 'characteristics',
                                                    title: 'Characteristics'
                                                },
                                                {
                                                    field: 'regulation_type',
                                                    title: 'Regulation_type'
                                                },
                                                {
                                                    field: 'cancer_hallmark',
                                                    title: 'Cancer_hallmark'
                                                },
                                                {
                                                    field: 'details',
                                                    title: 'Details'
                                                }]
                                            });
                                        },
                                        error: function () {
                                            alert('something is wrong,please connect author!');
                                        }
                                    });
                                    return false;
                                }

                            }
                        </script>
                    </form>
                </div>
                <div class="tab-pane fade" id="gene">
                    <form action="" method="post" onsubmit="return PostGen();">
                        <div class="input-group input-group-lg">
                            <input type="text" class="form-control" placeholder="Search for Gene" id="serGen"
                                name="serGen">
                            <span class="input-group-btn">
                                <button class="btn btn-default" type="submit" id="sub"><span
                                        class="glyphicon glyphicon-search"
                                        style="font-size: 20px"></span></button></span>
                            <script>
                                function PostGen() {
                                    var intext = $('#serGen').val();
                                    var patt = /[^0-9A-Za-z]/;
                                    if (intext == '') {
                                        alert('you don not input anything!');
                                        return false;
                                    }
                                    else if (patt.test(intext)) {
                                        alert('you input wrong words,plesea input again!');
                                        return false;
                                    }
                                    else {
                                        $('#serv').load('./ser.php', { "Gen": intext });
                                        return false;
                                    }
                                }
                            </script>
                        </div>
                    </form>
                </div>
            </div>
                </div>
        </div>
        <footer class="footer navbar-fixed-bottom" style="background-color:whitesmoke;">
            <div class="container">
                <h3>CONTACT US</h3>
            </div>
        </footer>
</body>

</html>